
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Deploy .NET applications on AWS">
      
      
      
        <link rel="canonical" href="https://aws.github.io/aws-dotnet-deploy/tutorials/custom-project/">
      
      <link rel="icon" href="../../assets/images/aws-logo-light.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-8.2.9">
    
    
      
        <title>Customizing deployment projects - AWS .NET deployment tool</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.120efc48.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.9647289d.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
    
    
    <script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#adding-an-amazon-dynamodb-table-to-your-deployment-project" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="AWS .NET deployment tool" class="md-header__button md-logo" aria-label="AWS .NET deployment tool" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 19.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 304 182" style="enable-background:new 0 0 304 182;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#FFFFFF;}
	.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}
</style>
<g>
	<path class="st0" d="M86.4,66.4c0,3.7,0.4,6.7,1.1,8.9c0.8,2.2,1.8,4.6,3.2,7.2c0.5,0.8,0.7,1.6,0.7,2.3c0,1-0.6,2-1.9,3l-6.3,4.2
		c-0.9,0.6-1.8,0.9-2.6,0.9c-1,0-2-0.5-3-1.4C76.2,90,75,88.4,74,86.8c-1-1.7-2-3.6-3.1-5.9c-7.8,9.2-17.6,13.8-29.4,13.8
		c-8.4,0-15.1-2.4-20-7.2c-4.9-4.8-7.4-11.2-7.4-19.2c0-8.5,3-15.4,9.1-20.6c6.1-5.2,14.2-7.8,24.5-7.8c3.4,0,6.9,0.3,10.6,0.8
		c3.7,0.5,7.5,1.3,11.5,2.2v-7.3c0-7.6-1.6-12.9-4.7-16c-3.2-3.1-8.6-4.6-16.3-4.6c-3.5,0-7.1,0.4-10.8,1.3c-3.7,0.9-7.3,2-10.8,3.4
		c-1.6,0.7-2.8,1.1-3.5,1.3c-0.7,0.2-1.2,0.3-1.6,0.3c-1.4,0-2.1-1-2.1-3.1v-4.9c0-1.6,0.2-2.8,0.7-3.5c0.5-0.7,1.4-1.4,2.8-2.1
		c3.5-1.8,7.7-3.3,12.6-4.5c4.9-1.3,10.1-1.9,15.6-1.9c11.9,0,20.6,2.7,26.2,8.1c5.5,5.4,8.3,13.6,8.3,24.6V66.4z M45.8,81.6
		c3.3,0,6.7-0.6,10.3-1.8c3.6-1.2,6.8-3.4,9.5-6.4c1.6-1.9,2.8-4,3.4-6.4c0.6-2.4,1-5.3,1-8.7v-4.2c-2.9-0.7-6-1.3-9.2-1.7
		c-3.2-0.4-6.3-0.6-9.4-0.6c-6.7,0-11.6,1.3-14.9,4c-3.3,2.7-4.9,6.5-4.9,11.5c0,4.7,1.2,8.2,3.7,10.6
		C37.7,80.4,41.2,81.6,45.8,81.6z M126.1,92.4c-1.8,0-3-0.3-3.8-1c-0.8-0.6-1.5-2-2.1-3.9L96.7,10.2c-0.6-2-0.9-3.3-0.9-4
		c0-1.6,0.8-2.5,2.4-2.5h9.8c1.9,0,3.2,0.3,3.9,1c0.8,0.6,1.4,2,2,3.9l16.8,66.2l15.6-66.2c0.5-2,1.1-3.3,1.9-3.9c0.8-0.6,2.2-1,4-1
		h8c1.9,0,3.2,0.3,4,1c0.8,0.6,1.5,2,1.9,3.9l15.8,67l17.3-67c0.6-2,1.3-3.3,2-3.9c0.8-0.6,2.1-1,3.9-1h9.3c1.6,0,2.5,0.8,2.5,2.5
		c0,0.5-0.1,1-0.2,1.6c-0.1,0.6-0.3,1.4-0.7,2.5l-24.1,77.3c-0.6,2-1.3,3.3-2.1,3.9c-0.8,0.6-2.1,1-3.8,1h-8.6c-1.9,0-3.2-0.3-4-1
		c-0.8-0.7-1.5-2-1.9-4L156,23l-15.4,64.4c-0.5,2-1.1,3.3-1.9,4c-0.8,0.7-2.2,1-4,1H126.1z M254.6,95.1c-5.2,0-10.4-0.6-15.4-1.8
		c-5-1.2-8.9-2.5-11.5-4c-1.6-0.9-2.7-1.9-3.1-2.8c-0.4-0.9-0.6-1.9-0.6-2.8v-5.1c0-2.1,0.8-3.1,2.3-3.1c0.6,0,1.2,0.1,1.8,0.3
		c0.6,0.2,1.5,0.6,2.5,1c3.4,1.5,7.1,2.7,11,3.5c4,0.8,7.9,1.2,11.9,1.2c6.3,0,11.2-1.1,14.6-3.3c3.4-2.2,5.2-5.4,5.2-9.5
		c0-2.8-0.9-5.1-2.7-7c-1.8-1.9-5.2-3.6-10.1-5.2L246,52c-7.3-2.3-12.7-5.7-16-10.2c-3.3-4.4-5-9.3-5-14.5c0-4.2,0.9-7.9,2.7-11.1
		c1.8-3.2,4.2-6,7.2-8.2c3-2.3,6.4-4,10.4-5.2c4-1.2,8.2-1.7,12.6-1.7c2.2,0,4.5,0.1,6.7,0.4c2.3,0.3,4.4,0.7,6.5,1.1
		c2,0.5,3.9,1,5.7,1.6c1.8,0.6,3.2,1.2,4.2,1.8c1.4,0.8,2.4,1.6,3,2.5c0.6,0.8,0.9,1.9,0.9,3.3v4.7c0,2.1-0.8,3.2-2.3,3.2
		c-0.8,0-2.1-0.4-3.8-1.2c-5.7-2.6-12.1-3.9-19.2-3.9c-5.7,0-10.2,0.9-13.3,2.8c-3.1,1.9-4.7,4.8-4.7,8.9c0,2.8,1,5.2,3,7.1
		c2,1.9,5.7,3.8,11,5.5l14.2,4.5c7.2,2.3,12.4,5.5,15.5,9.6c3.1,4.1,4.6,8.8,4.6,14c0,4.3-0.9,8.2-2.6,11.6
		c-1.8,3.4-4.2,6.4-7.3,8.8c-3.1,2.5-6.8,4.3-11.1,5.6C264.4,94.4,259.7,95.1,254.6,95.1z"/>
	<g>
		<path class="st1" d="M273.5,143.7c-32.9,24.3-80.7,37.2-121.8,37.2c-57.6,0-109.5-21.3-148.7-56.7c-3.1-2.8-0.3-6.6,3.4-4.4
			c42.4,24.6,94.7,39.5,148.8,39.5c36.5,0,76.6-7.6,113.5-23.2C274.2,133.6,278.9,139.7,273.5,143.7z"/>
		<path class="st1" d="M287.2,128.1c-4.2-5.4-27.8-2.6-38.5-1.3c-3.2,0.4-3.7-2.4-0.8-4.5c18.8-13.2,49.7-9.4,53.3-5
			c3.6,4.5-1,35.4-18.6,50.2c-2.7,2.3-5.3,1.1-4.1-1.9C282.5,155.7,291.4,133.4,287.2,128.1z"/>
	</g>
</g>
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AWS .NET deployment tool
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Customizing deployment projects
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/aws/aws-dotnet-deploy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-dotnet-deploy
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="AWS .NET deployment tool" class="md-nav__button md-logo" aria-label="AWS .NET deployment tool" data-md-component="logo">
      
  
  <?xml version="1.0" encoding="utf-8"?>
<!-- Generator: Adobe Illustrator 19.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 304 182" style="enable-background:new 0 0 304 182;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#FFFFFF;}
	.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}
</style>
<g>
	<path class="st0" d="M86.4,66.4c0,3.7,0.4,6.7,1.1,8.9c0.8,2.2,1.8,4.6,3.2,7.2c0.5,0.8,0.7,1.6,0.7,2.3c0,1-0.6,2-1.9,3l-6.3,4.2
		c-0.9,0.6-1.8,0.9-2.6,0.9c-1,0-2-0.5-3-1.4C76.2,90,75,88.4,74,86.8c-1-1.7-2-3.6-3.1-5.9c-7.8,9.2-17.6,13.8-29.4,13.8
		c-8.4,0-15.1-2.4-20-7.2c-4.9-4.8-7.4-11.2-7.4-19.2c0-8.5,3-15.4,9.1-20.6c6.1-5.2,14.2-7.8,24.5-7.8c3.4,0,6.9,0.3,10.6,0.8
		c3.7,0.5,7.5,1.3,11.5,2.2v-7.3c0-7.6-1.6-12.9-4.7-16c-3.2-3.1-8.6-4.6-16.3-4.6c-3.5,0-7.1,0.4-10.8,1.3c-3.7,0.9-7.3,2-10.8,3.4
		c-1.6,0.7-2.8,1.1-3.5,1.3c-0.7,0.2-1.2,0.3-1.6,0.3c-1.4,0-2.1-1-2.1-3.1v-4.9c0-1.6,0.2-2.8,0.7-3.5c0.5-0.7,1.4-1.4,2.8-2.1
		c3.5-1.8,7.7-3.3,12.6-4.5c4.9-1.3,10.1-1.9,15.6-1.9c11.9,0,20.6,2.7,26.2,8.1c5.5,5.4,8.3,13.6,8.3,24.6V66.4z M45.8,81.6
		c3.3,0,6.7-0.6,10.3-1.8c3.6-1.2,6.8-3.4,9.5-6.4c1.6-1.9,2.8-4,3.4-6.4c0.6-2.4,1-5.3,1-8.7v-4.2c-2.9-0.7-6-1.3-9.2-1.7
		c-3.2-0.4-6.3-0.6-9.4-0.6c-6.7,0-11.6,1.3-14.9,4c-3.3,2.7-4.9,6.5-4.9,11.5c0,4.7,1.2,8.2,3.7,10.6
		C37.7,80.4,41.2,81.6,45.8,81.6z M126.1,92.4c-1.8,0-3-0.3-3.8-1c-0.8-0.6-1.5-2-2.1-3.9L96.7,10.2c-0.6-2-0.9-3.3-0.9-4
		c0-1.6,0.8-2.5,2.4-2.5h9.8c1.9,0,3.2,0.3,3.9,1c0.8,0.6,1.4,2,2,3.9l16.8,66.2l15.6-66.2c0.5-2,1.1-3.3,1.9-3.9c0.8-0.6,2.2-1,4-1
		h8c1.9,0,3.2,0.3,4,1c0.8,0.6,1.5,2,1.9,3.9l15.8,67l17.3-67c0.6-2,1.3-3.3,2-3.9c0.8-0.6,2.1-1,3.9-1h9.3c1.6,0,2.5,0.8,2.5,2.5
		c0,0.5-0.1,1-0.2,1.6c-0.1,0.6-0.3,1.4-0.7,2.5l-24.1,77.3c-0.6,2-1.3,3.3-2.1,3.9c-0.8,0.6-2.1,1-3.8,1h-8.6c-1.9,0-3.2-0.3-4-1
		c-0.8-0.7-1.5-2-1.9-4L156,23l-15.4,64.4c-0.5,2-1.1,3.3-1.9,4c-0.8,0.7-2.2,1-4,1H126.1z M254.6,95.1c-5.2,0-10.4-0.6-15.4-1.8
		c-5-1.2-8.9-2.5-11.5-4c-1.6-0.9-2.7-1.9-3.1-2.8c-0.4-0.9-0.6-1.9-0.6-2.8v-5.1c0-2.1,0.8-3.1,2.3-3.1c0.6,0,1.2,0.1,1.8,0.3
		c0.6,0.2,1.5,0.6,2.5,1c3.4,1.5,7.1,2.7,11,3.5c4,0.8,7.9,1.2,11.9,1.2c6.3,0,11.2-1.1,14.6-3.3c3.4-2.2,5.2-5.4,5.2-9.5
		c0-2.8-0.9-5.1-2.7-7c-1.8-1.9-5.2-3.6-10.1-5.2L246,52c-7.3-2.3-12.7-5.7-16-10.2c-3.3-4.4-5-9.3-5-14.5c0-4.2,0.9-7.9,2.7-11.1
		c1.8-3.2,4.2-6,7.2-8.2c3-2.3,6.4-4,10.4-5.2c4-1.2,8.2-1.7,12.6-1.7c2.2,0,4.5,0.1,6.7,0.4c2.3,0.3,4.4,0.7,6.5,1.1
		c2,0.5,3.9,1,5.7,1.6c1.8,0.6,3.2,1.2,4.2,1.8c1.4,0.8,2.4,1.6,3,2.5c0.6,0.8,0.9,1.9,0.9,3.3v4.7c0,2.1-0.8,3.2-2.3,3.2
		c-0.8,0-2.1-0.4-3.8-1.2c-5.7-2.6-12.1-3.9-19.2-3.9c-5.7,0-10.2,0.9-13.3,2.8c-3.1,1.9-4.7,4.8-4.7,8.9c0,2.8,1,5.2,3,7.1
		c2,1.9,5.7,3.8,11,5.5l14.2,4.5c7.2,2.3,12.4,5.5,15.5,9.6c3.1,4.1,4.6,8.8,4.6,14c0,4.3-0.9,8.2-2.6,11.6
		c-1.8,3.4-4.2,6.4-7.3,8.8c-3.1,2.5-6.8,4.3-11.1,5.6C264.4,94.4,259.7,95.1,254.6,95.1z"/>
	<g>
		<path class="st1" d="M273.5,143.7c-32.9,24.3-80.7,37.2-121.8,37.2c-57.6,0-109.5-21.3-148.7-56.7c-3.1-2.8-0.3-6.6,3.4-4.4
			c42.4,24.6,94.7,39.5,148.8,39.5c36.5,0,76.6-7.6,113.5-23.2C274.2,133.6,278.9,139.7,273.5,143.7z"/>
		<path class="st1" d="M287.2,128.1c-4.2-5.4-27.8-2.6-38.5-1.3c-3.2,0.4-3.7-2.4-0.8-4.5c18.8-13.2,49.7-9.4,53.3-5
			c3.6,4.5-1,35.4-18.6,50.2c-2.7,2.3-5.3,1.1-4.1-1.9C282.5,155.7,291.4,133.4,287.2,128.1z"/>
	</g>
</g>
</svg>

    </a>
    AWS .NET deployment tool
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/aws/aws-dotnet-deploy" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws/aws-dotnet-deploy
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Getting started" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Getting started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/getting-started/pre-requisites/" class="md-nav__link">
        Pre-requisites
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/getting-started/installation/" class="md-nav__link">
        How to install
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/getting-started/setup-creds/" class="md-nav__link">
        Set up credentials
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/getting-started/custom-workspace/" class="md-nav__link">
        Set up a custom workspace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/getting-started/run-tool/" class="md-nav__link">
        Deploy "Hello World"
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/support/" class="md-nav__link">
        Support matrix
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_3" type="checkbox" id="__nav_2_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_3">
          Commands
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Commands" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_3">
          <span class="md-nav__icon md-icon"></span>
          Commands
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/commands/deploy/" class="md-nav__link">
        deploy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/commands/list/" class="md-nav__link">
        list-deployments
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/commands/delete/" class="md-nav__link">
        delete-deployment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/commands/project/" class="md-nav__link">
        deployment-project
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/commands/server-mode/" class="md-nav__link">
        server-mode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_4">
          Docker support
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docker support" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          Docker support
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/docker/docker-generation/" class="md-nav__link">
        Dockerfile generation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/docker/publish-image/" class="md-nav__link">
        Publishing a Docker image
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_5" type="checkbox" id="__nav_2_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_5">
          Deployment Projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deployment Projects" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_5">
          <span class="md-nav__icon md-icon"></span>
          Deployment Projects
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/deployment-projects/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/deployment-projects/recipe-file/" class="md-nav__link">
        Recipe File
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/deployment-projects/cdk-project/" class="md-nav__link">
        CDK Project
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6" type="checkbox" id="__nav_2_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6">
          Integrating with CI/CD
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integrating with CI/CD" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_6">
          <span class="md-nav__icon md-icon"></span>
          Integrating with CI/CD
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/cicd/" class="md-nav__link">
        Overview
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/deployment-settings-file/" class="md-nav__link">
        Deployment Settings File
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_6_3" type="checkbox" id="__nav_2_6_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_6_3">
          Deployment Recipes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Deployment Recipes" data-md-level="3">
        <label class="md-nav__title" for="__nav_2_6_3">
          <span class="md-nav__icon md-icon"></span>
          Deployment Recipes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/ASP.NET%20Core%20App%20to%20AWS%20App%20Runner/" class="md-nav__link">
        ASP.NET Core App to AWS App Runner
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/ASP.NET%20Core%20App%20to%20AWS%20Elastic%20Beanstalk%20on%20Linux/" class="md-nav__link">
        ASP.NET Core App to AWS Elastic Beanstalk on Linux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/ASP.NET%20Core%20App%20to%20AWS%20Elastic%20Beanstalk%20on%20Windows/" class="md-nav__link">
        ASP.NET Core App to AWS Elastic Beanstalk on Windows
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/ASP.NET%20Core%20App%20to%20Amazon%20ECS%20using%20AWS%20Fargate/" class="md-nav__link">
        ASP.NET Core App to Amazon ECS using AWS Fargate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/ASP.NET%20Core%20App%20to%20Existing%20AWS%20Elastic%20Beanstalk%20Environment/" class="md-nav__link">
        ASP.NET Core App to Existing AWS Elastic Beanstalk Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/ASP.NET%20Core%20App%20to%20Existing%20AWS%20Elastic%20Beanstalk%20Windows%20Environment/" class="md-nav__link">
        ASP.NET Core App to Existing AWS Elastic Beanstalk Windows Environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/Blazor%20WebAssembly%20App/" class="md-nav__link">
        Blazor WebAssembly App
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/Container%20Image%20to%20Amazon%20Elastic%20Container%20Registry%20%28ECR%29/" class="md-nav__link">
        Container Image to Amazon Elastic Container Registry (ECR)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/Scheduled%20Task%20on%20Amazon%20Elastic%20Container%20Service%20%28ECS%29%20using%20AWS%20Fargate/" class="md-nav__link">
        Scheduled Task on Amazon Elastic Container Service (ECS) using AWS Fargate
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../docs/cicd/recipes/Service%20on%20Amazon%20Elastic%20Container%20Service%20%28ECS%29%20using%20AWS%20Fargate/" class="md-nav__link">
        Service on Amazon Elastic Container Service (ECS) using AWS Fargate
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tutorials" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Customizing deployment projects
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Customizing deployment projects
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-create-a-new-web-application" class="md-nav__link">
    Step 1: Create a new web application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-generate-a-deployment-project" class="md-nav__link">
    Step 2: Generate a deployment project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-add-dynamodb-settings-to-the-recipe-file" class="md-nav__link">
    Step 3: Add DynamoDB settings to the recipe file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-add-new-setting-options-to-the-cdk-project" class="md-nav__link">
    Step 4. Add new setting options to the CDK project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-add-dynamodb-table-to-the-cdk-project" class="md-nav__link">
    Step 5. Add DynamoDB table to the CDK project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-pass-the-dynamodb-table-name-to-the-application-code" class="md-nav__link">
    Step 6: Pass the DynamoDB table name to the application code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-add-deployment-project-to-source-control" class="md-nav__link">
    Step 6: Add deployment project to source control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-deploy-acmewebapp-application" class="md-nav__link">
    Step 7: Deploy Acme.WebApp application
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Troubleshooting Guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Troubleshooting Guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Troubleshooting Guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting-guide/" class="md-nav__link">
        General Issues
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting-guide/missing-dependencies/" class="md-nav__link">
        Missing Dependencies
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting-guide/docker-issues/" class="md-nav__link">
        Docker Issues
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        Contributing to the project
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQs
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-create-a-new-web-application" class="md-nav__link">
    Step 1: Create a new web application
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-generate-a-deployment-project" class="md-nav__link">
    Step 2: Generate a deployment project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-add-dynamodb-settings-to-the-recipe-file" class="md-nav__link">
    Step 3: Add DynamoDB settings to the recipe file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-add-new-setting-options-to-the-cdk-project" class="md-nav__link">
    Step 4. Add new setting options to the CDK project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-5-add-dynamodb-table-to-the-cdk-project" class="md-nav__link">
    Step 5. Add DynamoDB table to the CDK project
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-pass-the-dynamodb-table-name-to-the-application-code" class="md-nav__link">
    Step 6: Pass the DynamoDB table name to the application code
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-6-add-deployment-project-to-source-control" class="md-nav__link">
    Step 6: Add deployment project to source control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-7-deploy-acmewebapp-application" class="md-nav__link">
    Step 7: Deploy Acme.WebApp application
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/aws/aws-dotnet-deploy/edit/main/site/content/tutorials/custom-project.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="adding-an-amazon-dynamodb-table-to-your-deployment-project">Adding an Amazon DynamoDB table to your deployment project</h1>
<p>In this tutorial, we will create and customize a deployment project to deploy a web application that uses an Amazon DynamoDB table as the backend store to Amazon Elastic Container Service (ECS). We will then add the deployment project to the source control and share with the team for future deployments.</p>
<p>Tasks we will accomplish:</p>
<ol>
<li>Create a new web application called Acme.WebApp.</li>
<li>Generate a deployment project using a built-in recipe.</li>
<li>Customize the deployment project's recipe file to allow the user to configure a DynamoDB table.</li>
<li>Modify the CDK project to add the new DynamoDB setting options.</li>
<li>Modify the CDK project to create the DynamoDB table.</li>
<li>Pass the DynamoDB table name to the application code using an environment variable our application reads to know which table to use.</li>
<li>Add the deployment project to source control.</li>
<li>Deploy our Acme.WebApp application using the custom deployment project.</li>
</ol>
<blockquote>
<p><strong>Note:</strong> This tutorial is not concerned with the application logic. You can replace the sample Acme.WebApp used in this tutorial with any other web application.***</p>
</blockquote>
<h3 id="step-1-create-a-new-web-application">Step 1: Create a new web application</h3>
<p>In your command prompt, run the following command to create your app:</p>
<pre><code>dotnet new webapp -o Acme.WebApp -f net6.0
</code></pre>
<h3 id="step-2-generate-a-deployment-project">Step 2: Generate a deployment project</h3>
<p>Navigate to the Acme.WebApp project directory and run the following command to generate a deployment project:</p>
<pre><code>dotnet aws deployment-project generate --output ../Acme.WebApp.DeploymentProject --project-display-name &quot;ASP.NET Core app with DynamoDB&quot;
</code></pre>
<p>The <code>--project-display-name</code> switch above configures the name of the recommendation that is shown in the deploy tool when deploying the application project.</p>
<p>The AWS Deploy Tool will analyze the Acme.WebApp project and display which built-in recipes can be used as the starting point of the custom deployment project.</p>
<pre><code>Recommended Deployment Option
-----------------------------
1: ASP.NET Core App to AWS Elastic Beanstalk on Linux
This ASP.NET Core application will be built and deployed to AWS Elastic Beanstalk on Linux. Recommended if you do not want to deploy your application as a container image.

Additional Deployment Options
------------------------------
2: ASP.NET Core App to Amazon ECS using Fargate
This ASP.NET Core application will be deployed to Amazon Elastic Container Service (Amazon ECS) with compute power managed by AWS Fargate compute engine. If your project does not contain a Dockerfile, it will be automatically generated. Recommended if you want to deploy your application as a container image on Linux.

3: ASP.NET Core App to AWS App Runner
This ASP.NET Core application will be built as a container image and deployed to AWS App Runner. If your project does not contain a Dockerfile, it will be automatically generated. Recommended if you want to deploy your application as a container image on a fully managed environment.

4: ASP.NET Core App to Existing AWS Elastic Beanstalk Environment
This ASP.NET Core application will be built and deployed to existing AWS Elastic Beanstalk environment. Recommended if you do not want to deploy your application as a container image.

Choose deployment option (recommended default: 1)
</code></pre>
<p>Pick option #2, "ASP.NET Core App to Amazon ECS using AWS Fargate".</p>
<p><code>Acme.WebApp.DeploymentProject</code> is created in a sibling directory to the application project. If you are using Visual Studio, add the new <code>Acme.WebApp.DeploymentProject</code> project to your solution.</p>
<p><img alt="Deployment Project" src="../../assets/images/solutionWithCDKProject.png" /></p>
<h3 id="step-3-add-dynamodb-settings-to-the-recipe-file">Step 3: Add DynamoDB settings to the recipe file</h3>
<p>To give the team members, who will use our deployment project, the choice to either select an existing DynamoDB table or create a new table during deployment, we will add several new settings to our deployment project's recipe definition.</p>
<p>Open the <code>Acme.WebApp.DeploymentProject.recipe</code> file located in the deployment project directory in your JSON editor of choice.</p>
<p>Go to the <code>OptionSettings</code> section that contains the settings users can use to configure their project.</p>
<p>Create a new "Object" option setting called <code>Backend</code> to group all of our new settings using the snippet below. When users configure their deployment, this option will be displayed in the "General" category.</p>
<pre><code class="language-json">&quot;OptionSettings&quot;: [
  ...
  {
    &quot;Id&quot;: &quot;Backend&quot;,
    &quot;Name&quot;: &quot;Backend&quot;,
    &quot;Category&quot;: &quot;General&quot;,
    &quot;Description&quot;: &quot;Configure the backend store.&quot;,
    &quot;Type&quot;: &quot;Object&quot;,
    &quot;AdvancedSetting&quot;: false,
    &quot;Updatable&quot;: true,
    &quot;ChildOptionSettings&quot;: [

    ]
  },
...
]
</code></pre>
<p>Now we will create child option settings to configure DynamoDB settings. The first is a setting to determine if we should create a new table or not. This setting is a <code>Bool</code> type which is defaulted to <code>true</code>. As a best practice the <code>Updatable</code> setting is set to <code>false</code> to protect users from accidentally deleting the table when redeploying in the future.</p>
<p>Add the following snippet to the <code>ChildOptionSettings</code> of the new <code>Backend</code> option we just created:</p>
<pre><code class="language-json">&quot;ChildOptionSettings&quot;: [
    {
      &quot;Id&quot;: &quot;CreateNewTable&quot;,
      &quot;Name&quot;: &quot;Create New DynamoDB Table&quot;,
      &quot;Description&quot;: &quot;Do you want to create a new DynamoDB table for the backend store?&quot;,
      &quot;Type&quot;: &quot;Bool&quot;,
      &quot;DefaultValue&quot;: true,
      &quot;AdvancedSetting&quot;: false,
      &quot;Updatable&quot;: false
    },
  ...
  ]
</code></pre>
<p>If the user unchecks the <code>CreateNewTable</code> setting, we need to give them the choice to select an existing table. This <code>ExistingTableName</code> setting is a "String" type that will store the name of an existing DynamoDB table to use as the backend store.</p>
<p>Add the following snippet to the <code>ChildOptionSettings</code> of the new <code>Backend</code> option:</p>
<pre><code class="language-json">&quot;ChildOptionSettings&quot;: [
  ...
  {
    &quot;Id&quot;: &quot;ExistingTableName&quot;,
    &quot;Name&quot;: &quot;Existing DynamoDB Table&quot;,
    &quot;Description&quot;: &quot;Existing DynamoDB table to use as the backend store.&quot;,
    &quot;Type&quot;: &quot;String&quot;,
    &quot;TypeHint&quot;: &quot;DynamoDBTableName&quot;,
    &quot;DefaultValue&quot;: &quot;&quot;,
    &quot;AdvancedSetting&quot;: false,
    &quot;Updatable&quot;: true,
    &quot;DependsOn&quot;: [
      {
        &quot;Id&quot;: &quot;Backend.CreateNewTable&quot;,
        &quot;Value&quot;: false
      }
    ],
    &quot;Validators&quot;: [
      {
        &quot;ValidatorType&quot;: &quot;Regex&quot;,
        &quot;Configuration&quot;: {
          &quot;Regex&quot;: &quot;[a-zA-Z0-9_.-]+&quot;,
          &quot;ValidationFailedMessage&quot;: &quot;Invalid table name.&quot;
        }
      },
      {
        &quot;ValidatorType&quot;: &quot;StringLength&quot;,
        &quot;Configuration&quot;: {
          &quot;MinLength&quot;: 3,
          &quot;MaxLength&quot;: 255
        }
      }
    ]
  }
]
</code></pre>
<p>Let us take a deeper dive into the properties for the <code>ExistingTableName</code> setting.</p>
<ul>
<li><strong>TypeHint</strong> - Set to <code>DynamoDBTableName</code> which tells the deployment tool this String type contains the name of a DynamoDB table. The deploy tool uses this information to show users a list of tables to pick from instead of a text-box.</li>
<li><strong>Updatable</strong> - Since modifying the name of an existing table is not a destructive change, we will allow this field to be updated during redeployments.</li>
<li><strong>DependsOn</strong> - This setting will only be visible if the previous <code>CreateNewTable</code> setting is set to <code>false</code>. Notice how the <code>Id</code> is the full name of the setting including the parent "Object" setting <code>Backend</code>.</li>
<li><strong>Validators</strong> - This attaches validators to make sure that the user-provided name matches the regex for valid table names and that the name meets the required minimum and maximum lengths. Adding validators provides feedback to users when invalid values are provided in either the CLI or Visual Studio.</li>
</ul>
<p>Here is the full snippet of the <code>Backend</code> Object option setting with the child settings:</p>
<pre><code class="language-json">{
  &quot;Id&quot;: &quot;Backend&quot;,
  &quot;Name&quot;: &quot;Backend&quot;,
  &quot;Category&quot;: &quot;General&quot;,
  &quot;Description&quot;: &quot;Configure the backend store.&quot;,
  &quot;Type&quot;: &quot;Object&quot;,
  &quot;AdvancedSetting&quot;: false,
  &quot;Updatable&quot;: true,
  &quot;ChildOptionSettings&quot;: [
    {
      &quot;Id&quot;: &quot;CreateNewTable&quot;,
      &quot;Name&quot;: &quot;Create New DynamoDB Table&quot;,
      &quot;Description&quot;: &quot;Do you want to create a new DynamoDB table for the backend store?&quot;,
      &quot;Type&quot;: &quot;Bool&quot;,
      &quot;DefaultValue&quot;: true,
      &quot;AdvancedSetting&quot;: false,
      &quot;Updatable&quot;: false
    },
    {
      &quot;Id&quot;: &quot;ExistingTableName&quot;,
      &quot;Name&quot;: &quot;Existing DynamoDB Table&quot;,
      &quot;Description&quot;: &quot;Existing DynamoDB table to use as the backend store.&quot;,
      &quot;Type&quot;: &quot;String&quot;,
      &quot;TypeHint&quot;: &quot;DynamoDBTableName&quot;,
      &quot;DefaultValue&quot;: &quot;&quot;,
      &quot;AdvancedSetting&quot;: false,
      &quot;Updatable&quot;: true,
      &quot;DependsOn&quot;: [
        {
          &quot;Id&quot;: &quot;Backend.CreateNewTable&quot;,
          &quot;Value&quot;: false
        }
      ],
      &quot;Validators&quot;: [
        {
          &quot;ValidatorType&quot;: &quot;Regex&quot;,
          &quot;Configuration&quot;: {
            &quot;Regex&quot;: &quot;[a-zA-Z0-9_.-]+&quot;,
            &quot;ValidationFailedMessage&quot;: &quot;Invalid table name.&quot;
          }
        },
        {
          &quot;ValidatorType&quot;: &quot;StringLength&quot;,
          &quot;Configuration&quot;: {
            &quot;MinLength&quot;: 3,
            &quot;MaxLength&quot;: 255
          }
        }
      ]
    }
  ]
}
</code></pre>
<h3 id="step-4-add-new-setting-options-to-the-cdk-project">Step 4. Add new setting options to the CDK project</h3>
<p>When the CDK project is executed, all settings collected from the user are passed and deserialized into the <code>Configuration</code> type. Now we need to customize the CDK project to store the new setting options by modifying the <code>Configuration</code> type.</p>
<p>Create a new class called <code>BackendConfiguration</code> in the <code>Configurations</code> directory. Below is the code for this new type with the properties for <code>CreateNewTable</code> and <code>ExistingTableName</code>.</p>
<blockquote>
<p><strong>Note:</strong> The .NET CDK projects generated by the AWS Deploy Tool have the C# feature <code>Nullable</code> enabled in the project file by default. If you do not want this feature enabled, edit the .csproj file and remove the <code>Nullable</code> project from the PropertyGroup.***</p>
</blockquote>
<pre><code class="language-csharp">namespace Acme.WebApp.DeploymentProject.Configurations
{
    public class BackendConfiguration
    {
        public bool CreateNewTable { get; set; }

        public string ExistingTableName { get; set; }


        /// A parameterless constructor is needed for &lt;see cref=&quot;Microsoft.Extensions.Configuration.ConfigurationBuilder&quot;/&gt;
        /// or the classes will fail to initialize.
        /// The warnings are disabled since a parameterless constructor will allow non-nullable properties to be initialized with null values.
#nullable disable warnings
        public BackendConfiguration()
        {

        }
#nullable restore warnings

        public BackendConfiguration(
            bool createNewTable,
            string existingTableName)
        {
            CreateNewTable = createNewTable;
            ExistingTableName = existingTableName;

        }
    }
}
</code></pre>
<p>In the <code>Configuration.cs</code> file, add a new property for our new backend settings.</p>
<pre><code class="language-csharp">namespace Acme.WebApp.DeploymentProject.Configurations
{
    public partial class Configuration
    {
        public BackendConfiguration Backend { get; set; } = new BackendConfiguration();
    }
}
</code></pre>
<p>Notice that the <code>Backend</code> property was added to the partial class that is <strong>not</strong> in the <code>Generated</code> directory. In both the <code>Configuration</code> and <code>BackendConfiguration</code> types, the property names match the setting ids used in the recipe file. This is important for the data to be property deserialized.</p>
<h3 id="step-5-add-dynamodb-table-to-the-cdk-project">Step 5. Add DynamoDB table to the CDK project</h3>
<blockquote>
<p><strong>Note:</strong> The <code>AppStack</code> class is the recommended place to customize the AWS resources.</p>
</blockquote>
<p>Modify the constructor of the <code>AppStack</code> class to check if <code>CreateNewTable</code> is set to <code>true</code>. Then  use the <code>Amazon.CDK.AWS.DynamoDB</code> CDK construct to create a table as part of the CloudFormation stack.</p>
<pre><code class="language-csharp">using Amazon.CDK.AWS.DynamoDB;

namespace Acme.WebApp.DeploymentProject
{

    public class AppStack : Stack
    {
        private readonly Configuration _configuration;
        private Table? _ddbBackend;

        internal AppStack(Construct scope, IDeployToolStackProps&lt;Configuration&gt; props)
            : base(scope, props.StackName, props)
        {
            _configuration = props.RecipeProps.Settings;

            // Setup callback for generated construct to provide access to customize CDK properties before creating constructs.
            CDKRecipeCustomizer&lt;Recipe&gt;.CustomizeCDKProps += CustomizeCDKProps;

            if(_configuration.Backend.CreateNewTable == true)
            {
                var backendProps = new TableProps
                {
                    RemovalPolicy = RemovalPolicy.DESTROY,
                    PartitionKey = new Amazon.CDK.AWS.DynamoDB.Attribute { Name = &quot;Id&quot;, Type = AttributeType.STRING },
                    BillingMode = BillingMode.PAY_PER_REQUEST,
                };
                _ddbBackend = new Table(this, &quot;Backend&quot;, backendProps);
            }

            var generatedRecipe = new Recipe(this, props.RecipeProps);
        }
</code></pre>
<p>Notice that in the snippet above the table is created before the <code>Recipe</code> construct. The <code>Recipe</code> construct has all the AWS resources that are part of the original built-in ECS recipe that the deployment project was created from.</p>
<h3 id="step-6-pass-the-dynamodb-table-name-to-the-application-code">Step 6: Pass the DynamoDB table name to the application code</h3>
<p>Now that we have our DynamoDB table, we need to pass the table name into our application code. We will do it by setting an environment variable that the application code will read in the <code>CustomizeCDKProps</code> method of the <code>AppStack</code> class. <code>CustomizeCDKProps</code> is a callback method that gets called for each AWS resource about to be created from the <code>Recipe</code> construct.</p>
<p>To know which AWS resource is about to be created, compare the <code>evnt.ResourceLogicalName</code> property to the public property name on the <code>Recipe</code> construct. The built-in recipes are written to make sure the resource logical name is the same as the public property name. In our scenario we are looking to see if the <code>AppContainerDefinition</code> is about to be created.</p>
<p>When we determine that the callback is for <code>AppContainerDefinition</code> then we cast the <code>evnt.Props</code> to the corresponding property object for <code>AppContainerDefinition</code>, in this case <code>ContainerDefinitionOptions</code>. From <code>ContainerDefinitionOptions</code> we can set the table name in an environment variable.</p>
<pre><code class="language-csharp">private void CustomizeCDKProps(CustomizePropsEventArgs&lt;Recipe&gt; evnt)
{
    // Example of how to customize the container image definition to include environment variables to the running applications.
    //
    if (string.Equals(evnt.ResourceLogicalName, nameof(evnt.Construct.AppContainerDefinition)))
    {
        if (evnt.Props is ContainerDefinitionOptions props)
        {
            if (props.Environment == null)
                props.Environment = new Dictionary&lt;string, string&gt;();


            if(_ddbBackend != null)
            {
                props.Environment[&quot;BACKEND_TABLE&quot;] = _ddbBackend.TableName;
            }
            else
            {
                props.Environment[&quot;BACKEND_TABLE&quot;] = _configuration.Backend.ExistingTableName;
            }
        }
    }
}
</code></pre>
<h3 id="step-6-add-deployment-project-to-source-control">Step 6: Add deployment project to source control</h3>
<p>Check your customized deployment project into your source control repository. This is required to re-deploy your application to existing CloudFormation stacks that were created using custom deployment projects.</p>
<h3 id="step-7-deploy-acmewebapp-application">Step 7: Deploy Acme.WebApp application</h3>
<p>In your command prompt, run the following command to deploy your application:</p>
<pre><code>dotnet aws deploy --project-path .
</code></pre>
<p>The custom deployment project will be displayed as the recommended option.</p>
<pre><code>Recommended Deployment Option
-----------------------------
1: ASP.NET Core app with DynamoDB
This ASP.NET Core application will be deployed to Amazon Elastic Container Service (Amazon ECS) with compute power managed by AWS Fargate compute engine. If your project does not contain a Dockerfile, it will be automatically generated, otherwise an existing Dockerfile will be used. Recommended if you want to deploy your application as a container image on Linux.

Additional Deployment Options
------------------------------
2: ASP.NET Core App to Amazon ECS using AWS Fargate
This ASP.NET Core application will be deployed to Amazon Elastic Container Service (Amazon ECS) with compute power managed by AWS Fargate compute engine. If your project does not contain a Dockerfile, it will be automatically generated, otherwise an existing Dockerfile will be used. Recommended if you want to deploy your application as a container image on Linux.

...

</code></pre>
<p>Select deployment option #1. You can now see Backend settings option we customized. When you navigate to the <code>Backend</code> settings, you will be able to choose between using a new table or picking an existing table.</p>
<pre><code>...

Current settings (select number to change its value)
----------------------------------------------------
1. ECS Cluster: AcmeWebApp
2. ECS Service Name: AcmeWebApp-service
3. Backend:
        Create New DynamoDB Table: True
4. Desired Task Count: 3
5. Application IAM Role: *** Create new ***
6. Virtual Private Cloud (VPC): *** Default ***
7. Environment Variables:
8. ECR Repository Name: acmewebapp

...

</code></pre>
<blockquote>
<p><strong>Note:</strong> The AWS Toolkit for Visual Studio will also recognize the custom deployment project. The deployment project will show up as the highest recommended option and the user will also be able to choose between creating a new table or choosing from a drop-down list of available tables in the account that is being deployed to.</p>
</blockquote>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../../docs/cicd/recipes/Service%20on%20Amazon%20Elastic%20Container%20Service%20%28ECS%29%20using%20AWS%20Fargate/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Service on Amazon Elastic Container Service (ECS) using AWS Fargate" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Service on Amazon Elastic Container Service (ECS) using AWS Fargate
            </div>
          </div>
        </a>
      
      
        
        <a href="../../troubleshooting-guide/" class="md-footer__link md-footer__link--next" aria-label="Next: General Issues" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              General Issues
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2022, Amazon Web Services, Inc. or its affiliates. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["tabs", "instant"], "search": "../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.6e54b5cd.min.js"></script>
      
    
  </body>
</html>